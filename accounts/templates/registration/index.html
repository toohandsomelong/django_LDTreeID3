{% extends "base/base.html" %}
{% load static %}

{% block title %}Account Details{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'accounts/style.css' %}">

<div class="account-details">
    <h2>Account Details</h2>
    <div class="user-info">
        <p><strong>Username:</strong> {{ request.user.username }}</p>
        <p><strong>Email:</strong> {{ request.user.email }}</p>
    </div>
    <h3>Update Your Email</h3>
    <form method="post" action="{% url 'update_email' %}" class="update-form">
        {% csrf_token %}
        <label for="email">New Email:</label>
        <input type="email" id="email" name="email" value="{{ request.user.email }}" required>
        <button type="submit">Update Email</button>
    </form>
    <h3>Change Password</h3>
    <form method="post" action="{% url 'password_change' %}" class="update-form">
        {% csrf_token %}
        <label for="old_password">Old Password:</label>
        <input type="password" id="old_password" name="old_password" required>
        <label for="new_password1">New Password:</label>
        <input type="password" id="new_password1" name="new_password1" required>
        <label for="new_password2">Confirm New Password:</label>
        <input type="password" id="new_password2" name="new_password2" required>
        <button type="submit">Change Password</button>
    </form>
    <div class="account-actions">
        <form action="{% url 'logout' %}" method="post" class="logout-form">
            {% csrf_token %}
            <button type="submit">Log Out</button>
        </form>
    </div>
</div>
{% endblock %}